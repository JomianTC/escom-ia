const response = {
    "tramites": [
        {
            "tramite": {
                "id": "8591b88c-cfe0-4231-9488-801335fdb529",
                "nombre": "trabajo opcional 5",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",
                "estado": false,
                "esInformativo": true,
                "links": []
            },
            "requerimientos": [
              "nombre completo 2",
              "curp",
              "rdf",
                "nombre completo 3",
                "nombre completo 1",
                "nombre completo 4",
                "nombre completo 5",
                "nombre completo 6",
                "nombre completo 7",
            ]
        },
        {
            "tramite": {
                "id": "c4a1f727-04c7-47d2-b094-3f8221942588",
                "nombre": "trabajo opcional 4",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": true,
                "esInformativo": true,
                "links": []
            },
            "requerimientos": [
              "nombre completo 2",
              "curp",
              "rdf",
                "nombre completo 3",
                "nombre completo 1",
                "nombre completo 4",
                "nombre completo 5",
                "nombre completo 6",
                "nombre completo 7",
            ]
        },
        {
            "tramite": {
                "id": "8779b211-fbcb-466c-892f-4df581f680a5",
                "nombre": "kame hame haaaaaaaaaaaaa",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": true,
                "esInformativo": true,
                "links": []
            },
            "requerimientos": [
                "nombre completo 8",
                "nombre completo 5",
                "nombre completo 7",
                "nombre completo 6"
            ]
        },
        {
            "tramite": {
                "id": "957a8746-9544-46df-8981-2217df84c2a9",
                "nombre": "trabajo opcional xxxxsxx",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": false,
                "esInformativo": true,
                "links": [
                    "QWE",
                    "ASD",
                    "ZXC"
                ]
            },
            "requerimientos": [
                "nombre completo 1",
                "nombre completo 3",
                "nombre completo 2"
            ]
        },
        {
            "tramite": {
                "id": "23ef0a20-2872-4c25-970e-ff822d7c9b41",
                "nombre": "trabajo opcional 3",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": true,
                "esInformativo": true,
                "links": []
            },
            "requerimientos": [
                "nombre completo 2",
                "nombre completo 1",
                "nombre completo 3"
            ]
        },
        {
            "tramite": {
                "id": "896d588f-f097-4f68-8dcd-02ec6a610db4",
                "nombre": "trabajo opcional xxxxxx",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": true,
                "esInformativo": true,
                "links": [
                    "UIO",
                    "JKL",
                    "ZVM",
                    "ERT"
                ]
            },
            "requerimientos": [
                "nombre completo 7",
                "nombre completo 5",
                "nombre completo 6",
                "nombre completo 8"
            ]
        },
        {
            "tramite": {
                "id": "47b48c15-25ee-4782-a675-f6dae62e3ee1",
                "nombre": "trabajo opcional 2",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": true,
                "esInformativo": true,
                "links": []
            },
            "requerimientos": [
                "nombre completo 3",
                "nombre completo 2",
                "nombre completo 1"
            ]
        },
        {
            "tramite": {
                "id": "99c32be0-fc7e-465a-9023-d1adf0238674",
                "nombre": "trabajo opcional",
                "descripcion": "Este tramite te ayudara tramitar el servicio social",
                                "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


                "estado": true,
                "esInformativo": true,
                "links": []
            },
            "requerimientos": [
                "nombre completo 3",
                "nombre completo 2",
                "nombre completo 1"
            ]
        },
        {
            tramite: {
            "id": "1a2b3c4d5e6f7g8h",
            "nombre": "Dune",
            "descripcion": "Science fiction novel by Frank Herbert",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example1"]
          },
          requerimientos : []
        },
        {tramite:{
            "id": "9i8h7g6f5e4d3c2b",
            "nombre": "Foundation",
            "descripcion": "Science fiction novel by Isaac Asimov",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example2"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "a1b2c3d4e5f6g7h8i",
            "nombre": "1984",
            "descripcion": "Science fiction novel by George Orwell",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example3"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "1i2h3g4f5e6d7c8b",
            "nombre": "Brave New World",
            "descripcion": "Science fiction novel by Aldous Huxley",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example4"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "a9b8c7d6e5f4g3h2i",
            "nombre": "Neuromancer",
            "descripcion": "Science fiction novel by William Gibson",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example5"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "1a2b3c4d5e6f7g8h",
            "nombre": "Ender's Game",
            "descripcion": "Science fiction novel by Orson Scott Card",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example6"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "9i8h7g6f5e4d3c2b",
            "nombre": "The Hitchhiker's Guide to the Galaxy",
            "descripcion": "Science fiction novel by Douglas Adams",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example7"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "a1b2c3d4e5f6g7h8i",
            "nombre": "Fahrenheit 451",
            "descripcion": "Science fiction novel by Ray Bradbury",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example8"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "1i2h3g4f5e6d7c8b",
            "nombre": "The War of the Worlds",
            "descripcion": "Science fiction novel by H.G. Wells",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example9"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "a9b8c7d6e5f4g3h2i",
            "nombre": "Snow Crash",
            "descripcion": "Science fiction novel by Neal Stephenson",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example10"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "1a2b3c4d5e6f7g8h",
            "nombre": "The Martian",
            "descripcion": "Science fiction novel by Andy Weir",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example11"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "9i8h7g6f5e4d3c2b",
            "nombre": "I, Robot",
            "descripcion": "Science fiction novel by Isaac Asimov",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example12"]
          },
          requerimientos : []
        },
        {tramite:{
            "id": "a1b2c3d4e5f6g7h8i",
            "nombre": "Tengo HTML embeded",
            "descripcion": `<p>
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",
            <span style="font-size: 18px;">Quill Rich Text Editor</span>
        </p>
        <p>
            <br>
        </p>
        <p>Quill is a free,
            <a href="https://github.com/quilljs/quill/" target="_blank">open source</a>WYSIWYG editor built for the modern web. With its
            <a href="http://quilljs.com/docs/modules/" target="_blank">extensible architecture</a>and a
            <a href="http://quilljs.com/docs/api/" target="_blank">expressive API</a>you can completely customize it to fulfill your needs. Some built in features include:</p>
        <p>
            <br>
        </p>
        <ul>
            <li>Fast and lightweight</li>
            <li>Semantic markup</li>
            <li>Standardized HTML between browsers</li>
            <li>Cross browser support including Chrome, Firefox, Safari, and IE 9+</li>
        </ul>
        <p>
            <br>
        </p>
        <p>
            <span style="font-size: 18px;">Downloads</span>
        </p>
        <p>
            <br>
        </p>
        <ul>
            <li>
                <a href="https://quilljs.com" target="_blank">Quill.js</a>, the free, open source WYSIWYG editor</li>
            <li>
                <a href="https://zenoamaro.github.io/react-quill" target="_blank">React-quill</a>, a React component that wraps Quill.js</li>
            <li>Hello</li>
            <li>
                <br>
            </li>
        </ul>`,


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example13"]
          },
          requerimientos : ["Tarea", "Acta de nacimiento"]
        },
          {tramite:{
            "id": "1i2h3g4f5e6d7c8b",
            "nombre": "A Wrinkle in Time",
            "descripcion": "Science fiction novel by Madeleine L'Engle",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example14"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "a9b8c7d6e5f4g3h2i",
            "nombre": "The Matrix",
            "descripcion": "Science fiction film by The Wachowskis",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example15"]
          },
          requerimientos : []
        },
          {tramite:{
            "id": "1a2b3c4d5e6f7g8h",
            "nombre": "The Hunger Games",
            "descripcion": "Science fiction novel by Suzanne Collins",
                            "fechaInicio": "2024-02-01T06:00:00.000Z",
                "fechaTermino": "2024-03-22T06:00:00.000Z",


            "estado": "true",
            "esInformativo": "false",
            "links":[ "https://forms.gle/example16"]
          },
          requerimientos : []}
    ],
    "total": 8
}
const crypto = require('crypto');
const waitTime = (wait) => new Promise((resolve) => setTimeout(resolve, wait));
const express = require('express');
const router = express.Router();
const COMMENTS = require('../data/Comments.json');
function checkHeaderToken (req, res, next) {
    const { authorization } = req.headers
    if (authorization.includes('Bearer') && authorization.includes('tony')) {
        next();
    } else {
        return res.status(403).json({ message: 'No tienes acceso' });
    }
}

router.get('/admin/findAll', async function (req, res, next) { 
    console.log(req.query);
    const withNewIdData = response.tramites.map((tramite, index) => { 
        tramite.tramite.id = crypto.randomBytes(16).toString('hex');
        return tramite;
    });
    console.log(withNewIdData);
    await waitTime(1000);
    return res.status(200).json({ tramites: withNewIdData, total: withNewIdData.length });
});

router.post('/', function (req,res,next) {
  console.log(req.body);
  return res.json({
    mensaje: "Creado correctamente",
    
  })
})

router.put('/:id', function (req,res,next) {
  console.log(req.body);
  console.log(req.params.id);
  return res.json({
    mensaje: "Creado correctamente",
    id : req.params.id
    
  })
})

module.exports = router;
